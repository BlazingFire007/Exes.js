var b=Object.defineProperty;var v=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var f=(e,t,n)=>(v(e,typeof t!="symbol"?t+"":t,n),n);var x={width:3,height:3,winLength:3,turn:1},l=class{constructor(t){f(this,"width");f(this,"height");f(this,"size");f(this,"winLength");f(this,"internal");f(this,"turn");return t||(t=x),this.width=t.width,this.height=t.height,this.size=t.width*t.height,this.winLength=t.winLength,this.turn=t.turn,this.internal=[...Array(this.size)].map(()=>-1),this}get moves(){return this.internal.reduce((t,n,r)=>(n===-1&&t.push(r),t),[])}get winner(){let{width:t,height:n,winLength:r}=this,{internal:u}=this,i=(o,s,h,p)=>{let a=u[o+s*t];if(a===-1)return-1;for(let c=1;c<r;c++)if(u[o+h*c+(s+p*c)*t]!==a)return-1;return a};for(let o=0;o<n;o++)for(let s=0;s<t;s++){if(s<=t-r){let h=i(s,o,1,0);if(h!==-1)return h}if(o<=n-r){let h=i(s,o,0,1);if(h!==-1)return h}if(s<=t-r&&o<=n-r){let h=i(s,o,1,1);if(h!==-1)return h}if(s>=r-1&&o<=n-r){let h=i(s,o,-1,1);if(h!==-1)return h}}return-1}get isDraw(){return this.winner===-1&&this.moves.length===0}get isOver(){return this.winner!==-1||this.isDraw}move(t){if(typeof t=="number")return this.internal[t]!==-1?!1:(this.internal[t]=this.turn,this.turn^=1,!0);let{row:n,col:r}=t;return this.internal[n*this.width+r]!==-1?!1:(this.internal[n*this.width+r]=this.turn,this.turn^=1,!0)}undo(t){this.internal[t]=-1,this.turn^=1}load(t){t.forEach(n=>this.move(n))}print(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=this.internal.map(i=>{switch(i){case-1:return" ";case 0:return"O";case 1:return"X"}});for(let i=0;i<this.height;i++)console.log(`|${((this.height-i).toString()+"|: ").padEnd(5)}|${n.slice(i*this.width,(i+1)*this.width).join("|")}|`);let r="",u="      ";r+=u+"-".repeat(this.width*2+1)+`
`,r+=u+"|"+t.slice(0,this.width).join("|")+`|
`,console.log(r),console.log(`Turn: ${this.turn===0?"O":"X"}`)}},m=l;function w(e,t){let n=S(e.moves),r=-1/0,u=n[0],i=-1/0,o=1/0;for(let s of n){e.move(s);let h=-g(e,t-1,-o,-i);e.undo(s),console.log(`Move: ${s}, Score: ${h}`),h>r&&(r=h,u=s)}return u}function g(e,t,n,r){if(e.isOver||t===0)return e.winner===-1?0:e.winner===e.turn?100:-100;let u=-1/0;for(let i of e.moves){e.move(i);let o=-g(e,t-1,-r,-n);if(e.undo(i),u=Math.max(o,u),n=Math.max(n,o),n>=r)break}return u}function S(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var d=w;var M={Board:m,search:d},j=M;export{l as Board,j as default,w as search};
//# sourceMappingURL=browser.min.js.map
