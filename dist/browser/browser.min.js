var b=Object.defineProperty;var v=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var f=(e,t,n)=>(v(e,typeof t!="symbol"?t+"":t,n),n);var p={width:3,height:3,winLength:3,turn:1},a=class{constructor(t){f(this,"width");f(this,"height");f(this,"size");f(this,"winLength");f(this,"internal");f(this,"turn");return t||(t=p),this.width=t.width,this.height=t.height,this.size=t.width*t.height,this.winLength=t.winLength,this.turn=t.turn,this.internal=[...Array(this.size)].map(()=>-1),this}get moves(){return this.internal.reduce((t,n,i)=>(n===-1&&t.push(i),t),[])}get winner(){let{width:t,height:n,winLength:i}=this,{internal:u}=this,r=(s,o,h,d)=>{let l=u[s+o*t];if(l===-1)return-1;for(let c=1;c<i;c++)if(u[s+h*c+(o+d*c)*t]!==l)return-1;return l};for(let s=0;s<n;s++)for(let o=0;o<t;o++){if(o<=t-i){let h=r(o,s,1,0);if(h!==-1)return h}if(s<=n-i){let h=r(o,s,0,1);if(h!==-1)return h}if(o<=t-i&&s<=n-i){let h=r(o,s,1,1);if(h!==-1)return h}if(o>=i-1&&s<=n-i){let h=r(o,s,-1,1);if(h!==-1)return h}}return-1}get isDraw(){return this.winner===-1&&this.moves.length===0}get isOver(){return this.winner!==-1||this.isDraw}move(t){if(typeof t=="number")return this.internal[t]!==-1?!1:(this.internal[t]=this.turn,this.turn^=1,!0);let{row:n,col:i}=t;return this.internal[n*this.width+i]!==-1?!1:(this.internal[n*this.width+i]=this.turn,this.turn^=1,!0)}undo(t){this.internal[t]=-1,this.turn^=1}load(t){t.forEach(n=>this.move(n))}print(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=this.internal.map(r=>{switch(r){case-1:return" ";case 0:return"O";case 1:return"X"}});for(let r=0;r<this.height;r++)console.log(`|${((this.height-r).toString()+"|: ").padEnd(5)}|${n.slice(r*this.width,(r+1)*this.width).join("|")}|`);let i="",u="      ";i+=u+"-".repeat(this.width*2+1)+`
`,i+=u+"|"+t.slice(0,this.width).join("|")+`|
`,console.log(i),console.log(`Turn: ${this.turn===0?"O":"X"}`)}},w=a;function m(e,t){let n=S(e.moves),i=-1/0,u=n[0],r=-1/0,s=1/0;for(let o of n){e.move(o);let h=-g(e,t-1,-s,-r);e.undo(o),console.log(`Move: ${o}, Score: ${h}`),h>i&&(i=h,u=o)}return u}function g(e,t,n,i){if(e.isOver||t===0)return e.winner===-1?0:e.winner===e.turn?100:-100;let u=-1/0;for(let r of e.moves){e.move(r);let s=-g(e,t-1,-i,-n);if(e.undo(r),u=Math.max(s,u),n=Math.max(n,s),n>=i)break}return u}function S(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var M={Board:w,search:m},$=M;export{$ as default};
//# sourceMappingURL=browser.min.js.map
